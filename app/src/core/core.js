const a3_0x323d4c=a3_0x25bd;(function(_0x33ca5e,_0x495e1d){const _0x2a72c3=a3_0x25bd,_0x37c03b=_0x33ca5e();while(!![]){try{const _0x29735c=-parseInt(_0x2a72c3(0x188))/0x1*(-parseInt(_0x2a72c3(0x18f))/0x2)+parseInt(_0x2a72c3(0x191))/0x3*(parseInt(_0x2a72c3(0x177))/0x4)+-parseInt(_0x2a72c3(0x167))/0x5*(-parseInt(_0x2a72c3(0x160))/0x6)+-parseInt(_0x2a72c3(0x174))/0x7*(-parseInt(_0x2a72c3(0x17a))/0x8)+parseInt(_0x2a72c3(0x16d))/0x9*(parseInt(_0x2a72c3(0x185))/0xa)+-parseInt(_0x2a72c3(0x17d))/0xb+-parseInt(_0x2a72c3(0x155))/0xc*(parseInt(_0x2a72c3(0x182))/0xd);if(_0x29735c===_0x495e1d)break;else _0x37c03b['push'](_0x37c03b['shift']());}catch(_0x184f2b){_0x37c03b['push'](_0x37c03b['shift']());}}}(a3_0x4b96,0x61849));import{ethers}from'ethers';import{privateKey}from'../../accounts/accounts.js';import{Helper}from'../utils/helper.js';import a3_0x5afebb from'../utils/logger.js';import{RPC}from'./rpc.js';import{Config}from'../../config/config.js';function a3_0x25bd(_0x2bfc9a,_0x5a7e72){const _0x4b96e2=a3_0x4b96();return a3_0x25bd=function(_0x25bdec,_0x4ecb91){_0x25bdec=_0x25bdec-0x14f;let _0x110da5=_0x4b96e2[_0x25bdec];return _0x110da5;},a3_0x25bd(_0x2bfc9a,_0x5a7e72);}function a3_0x4b96(){const _0x2e4f31=['4170936GbjKqT','hash','Gas\x20Limit\x20:\x20','delay','RPCURL','13QpmDYB','Getting\x20Wallet\x20Balance\x20of\x20','JsonRpcProvider','10tkpIzM','SONEFISWAPCONTRACT','swapExactTokensForETH','479PvyWHM','amountIn','latest','Prepare\x20For\x20Swap\x200.01\x20USDT.s\x20On\x20Sonefi','getFeeData','replace','Gas\x20estimation\x20failed,\x20using\x20fallback:\x20','1570OHSVmj','0x7125e7d95c520c0835b5fcbad72a1c3c55e83269','33lqUJlX','stringify','balance','now','getBalance','createHexData','maxFeePerGas','provider','gasLimit','function\x20','getTransactionCount','wallet','info','sendTransaction','Interface','16208772jtogUA','Swap\x20Success','executeTx','Building\x20TX...','value','Account\x20Type\x20:\x20','SELFTRANSFERAMOUNT','Sending\x20','Wallet','message','CHAIN_ID','13980raStrS','0x97368885747176170506a65c0096b91236b744e7','floor','mainRpc','gasPrice','address','deadline','1165rMvEqo','path','trim','selfTransfer','swapExactTokensForETH(uint256,uint256,address[],address,uint256)','chainId','663192Kucxgj','Wallet\x20connected\x20','Tx\x20Executed\x20\x0a','encodeFunctionData','Transaction','indexOf','estimateGas','21gaqXBD','url','acc','201424nVlGTh','wait','toString','1554216fPerwa','sonefiSwap','tx/'];a3_0x4b96=function(){return _0x2e4f31;};return a3_0x4b96();}import{SONEFI}from'./abi/sonefi.js';export default class Core{constructor(_0x371ae0){const _0x487266=a3_0x25bd;this[_0x487266(0x176)]=_0x371ae0,this[_0x487266(0x181)]=RPC[_0x487266(0x163)][_0x487266(0x175)],this['CHAIN_ID']=RPC[_0x487266(0x163)][_0x487266(0x16c)],this[_0x487266(0x198)]=new ethers[(_0x487266(0x184))](this[_0x487266(0x181)],this[_0x487266(0x15f)]);}async['connectWallet'](){const _0x2220cc=a3_0x25bd;try{const _0x4ae937=this[_0x2220cc(0x176)][_0x2220cc(0x18d)](/^0x/,'');await Helper[_0x2220cc(0x180)](0x3e8,this[_0x2220cc(0x176)],'Connecting\x20to\x20Account\x20:\x20'+(privateKey[_0x2220cc(0x172)](this[_0x2220cc(0x176)])+0x1),this);const _0x54e61a=Helper['determineType'](_0x4ae937);a3_0x5afebb['info'](_0x2220cc(0x15a)+_0x54e61a);if(_0x54e61a=='Secret\x20Phrase')this[_0x2220cc(0x151)]=new ethers['Wallet']['fromPhrase'](_0x4ae937,this[_0x2220cc(0x198)]);else{if(_0x54e61a=='Private\x20Key')this[_0x2220cc(0x151)]=new ethers[(_0x2220cc(0x15d))](_0x4ae937[_0x2220cc(0x169)](),this['provider']);else throw Error('Invalid\x20account\x20Secret\x20Phrase\x20or\x20Private\x20Key');}this[_0x2220cc(0x165)]=this[_0x2220cc(0x151)][_0x2220cc(0x165)],await Helper[_0x2220cc(0x180)](0x3e8,this['acc'],_0x2220cc(0x16e)+JSON[_0x2220cc(0x192)](this[_0x2220cc(0x151)][_0x2220cc(0x165)]),this);}catch(_0xeba68a){throw _0xeba68a;}}async[a3_0x323d4c(0x195)](_0x280ff5=![]){const _0x15dff5=a3_0x323d4c;try{!_0x280ff5&&await Helper[_0x15dff5(0x180)](0x1f4,this[_0x15dff5(0x176)],_0x15dff5(0x183)+this['wallet'][_0x15dff5(0x165)],this);const _0x74a7c5=ethers['formatEther'](await this[_0x15dff5(0x198)][_0x15dff5(0x195)](this['wallet'][_0x15dff5(0x165)]));this[_0x15dff5(0x193)]=_0x74a7c5,await Helper[_0x15dff5(0x180)](0x1f4,this[_0x15dff5(0x176)],'Balance\x20updated',this);}catch(_0x215789){throw _0x215789;}}async[a3_0x323d4c(0x16a)](){const _0x4506ce=a3_0x323d4c;try{await Helper[_0x4506ce(0x180)](0x1f4,this[_0x4506ce(0x176)],_0x4506ce(0x15c)+Config[_0x4506ce(0x15b)]+'\x20To\x20'+this[_0x4506ce(0x151)][_0x4506ce(0x165)],this);const _0x5aa837=await this[_0x4506ce(0x198)][_0x4506ce(0x18c)](),_0x4188d9=await this[_0x4506ce(0x198)][_0x4506ce(0x150)](this[_0x4506ce(0x151)][_0x4506ce(0x165)],_0x4506ce(0x18a)),_0x2d4ae8=new ethers[(_0x4506ce(0x171))]();_0x2d4ae8['to']=this['wallet'][_0x4506ce(0x165)],_0x2d4ae8[_0x4506ce(0x159)]=ethers['parseEther'](Config[_0x4506ce(0x15b)][_0x4506ce(0x179)]()),_0x2d4ae8['chainId']=this[_0x4506ce(0x15f)],_0x2d4ae8[_0x4506ce(0x199)]=_0x5aa837[_0x4506ce(0x197)],_0x2d4ae8['gasPrice']=_0x5aa837[_0x4506ce(0x164)],_0x2d4ae8['nonce']=_0x4188d9,await this['executeTx'](_0x2d4ae8),await Helper[_0x4506ce(0x180)](0x1f4,this[_0x4506ce(0x176)],'Self\x20Transfer\x20Success',this);}catch(_0x399f80){throw _0x399f80;}}async[a3_0x323d4c(0x17b)](){const _0x766592=a3_0x323d4c;try{await Helper[_0x766592(0x180)](0x3e8,this[_0x766592(0x176)],_0x766592(0x18b),this);const _0x152a59={'amountIn':0x2710,'amountOutMin':0x3a352944000,'path':[_0x766592(0x161),_0x766592(0x190)],'to':this[_0x766592(0x151)][_0x766592(0x165)],'deadline':Math[_0x766592(0x162)](Date[_0x766592(0x194)]()/0x3e8)+0xf*0x3c};a3_0x5afebb[_0x766592(0x152)]('TX\x20DATA\x20:\x20'+JSON[_0x766592(0x192)](_0x152a59));const _0x46a84e=await this['createHexData'](_0x152a59,_0x766592(0x187),_0x766592(0x16b));a3_0x5afebb[_0x766592(0x152)]('Hex\x20Data\x20:\x20'+_0x46a84e);const _0x4f94bb=await this[_0x766592(0x198)][_0x766592(0x18c)](),_0x220855=await this['provider']['getTransactionCount'](this[_0x766592(0x151)]['address'],'latest'),_0x2a2dab=_0x4f94bb[_0x766592(0x164)],_0x49d6e8=0x3d090;let _0x16e571;try{_0x16e571=await this[_0x766592(0x198)][_0x766592(0x173)]({'data':_0x46a84e,'to':SONEFI[_0x766592(0x186)],'from':this[_0x766592(0x151)][_0x766592(0x165)]});}catch(_0x3c1678){a3_0x5afebb['error'](_0x766592(0x18e)+_0x3c1678[_0x766592(0x15e)]),_0x16e571=_0x49d6e8;}a3_0x5afebb[_0x766592(0x152)](_0x766592(0x17f)+_0x16e571);const _0x4d86bf={'data':_0x46a84e,'to':SONEFI[_0x766592(0x186)],'gasLimit':_0x16e571,'gasPrice':_0x2a2dab,'nonce':_0x220855,'value':0x0};await this['executeTx'](_0x4d86bf),await Helper[_0x766592(0x180)](0x1f4,this[_0x766592(0x176)],_0x766592(0x156),this);}catch(_0x551c91){throw _0x551c91;}}async[a3_0x323d4c(0x196)](_0x2c70eb,_0x347dc9,_0x43d560){const _0x4b482c=a3_0x323d4c,_0x5d4eaa=new ethers[(_0x4b482c(0x154))]([_0x4b482c(0x14f)+_0x43d560]),_0x4937d4=_0x5d4eaa[_0x4b482c(0x170)](_0x347dc9,[_0x2c70eb[_0x4b482c(0x189)],_0x2c70eb['amountOutMin'],_0x2c70eb[_0x4b482c(0x168)],_0x2c70eb['to'],_0x2c70eb[_0x4b482c(0x166)]]);return _0x4937d4;}async[a3_0x323d4c(0x157)](_0x1acb11){const _0x3302ea=a3_0x323d4c;await Helper[_0x3302ea(0x180)](0x1f4,this[_0x3302ea(0x176)],_0x3302ea(0x158),this);const _0xd762cc=await this[_0x3302ea(0x151)][_0x3302ea(0x153)](_0x1acb11),_0x444308=await _0xd762cc[_0x3302ea(0x178)]();a3_0x5afebb[_0x3302ea(0x152)]('->\x20Tx\x20Confirmed\x20and\x20Finalizing:\x20'+JSON[_0x3302ea(0x192)](_0x444308)),await Helper[_0x3302ea(0x180)](0x1388,this['acc'],_0x3302ea(0x16f)+RPC[_0x3302ea(0x163)]['explorerUrl']+_0x3302ea(0x17c)+_0x444308[_0x3302ea(0x17e)],this),await this[_0x3302ea(0x195)](!![]);}}