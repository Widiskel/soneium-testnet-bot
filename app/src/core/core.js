const a3_0x23bed1=a3_0x3c07;(function(_0x45115b,_0xfe947f){const _0x6fa5bf=a3_0x3c07,_0x3e1e93=_0x45115b();while(!![]){try{const _0x24f337=parseInt(_0x6fa5bf(0x143))/0x1+parseInt(_0x6fa5bf(0x113))/0x2*(parseInt(_0x6fa5bf(0x11f))/0x3)+-parseInt(_0x6fa5bf(0x11a))/0x4+-parseInt(_0x6fa5bf(0x117))/0x5+-parseInt(_0x6fa5bf(0x134))/0x6*(-parseInt(_0x6fa5bf(0x128))/0x7)+-parseInt(_0x6fa5bf(0x135))/0x8*(parseInt(_0x6fa5bf(0x127))/0x9)+-parseInt(_0x6fa5bf(0x119))/0xa*(-parseInt(_0x6fa5bf(0x109))/0xb);if(_0x24f337===_0xfe947f)break;else _0x3e1e93['push'](_0x3e1e93['shift']());}catch(_0x3b78c1){_0x3e1e93['push'](_0x3e1e93['shift']());}}}(a3_0x4ca5,0x73a80));import{ethers}from'ethers';import{privateKey}from'../../accounts/accounts.js';import{Helper}from'../utils/helper.js';function a3_0x3c07(_0x9a6168,_0x37d436){const _0x4ca5b6=a3_0x4ca5();return a3_0x3c07=function(_0x3c07f3,_0x5818d2){_0x3c07f3=_0x3c07f3-0xff;let _0x189d46=_0x4ca5b6[_0x3c07f3];return _0x189d46;},a3_0x3c07(_0x9a6168,_0x37d436);}import a3_0x434ef5 from'../utils/logger.js';import{RPC}from'./rpc.js';import{Config}from'../../config/config.js';function a3_0x4ca5(){const _0x2d2440=['selfTransfer','determineType','indexOf','Building\x20TX...','nonce','9FGMtTo','21aziNAq','getTransactionCount','Private\x20Key','hash','Balance\x20updated','explorerUrl','Connecting\x20to\x20Account\x20:\x20','connectWallet','0x97368885747176170506a65c0096b91236b744e7','Sending\x20','Wallet\x20connected\x20','amountOutMin','158502kMrqnJ','3662696SfeQPB','getBalance','message','CHAIN_ID','address','encodeFunctionData','Wallet','gasLimit','latest','swapExactTokensForETH(uint256,uint256,address[],address,uint256)','formatEther','mainRpc','deadline','info','880655xNccxn','function\x20','Secret\x20Phrase','executeTx','Gas\x20Limit\x20:\x20','url','Self\x20Transfer\x20Success','floor','Hex\x20Data\x20:\x20','tx/','->\x20Tx\x20Confirmed\x20and\x20Finalizing:\x20','wallet','toString','SELFTRANSFERAMOUNT','Tx\x20Executed\x20\x0a','Gas\x20estimation\x20failed,\x20using\x20fallback:\x20','Invalid\x20account\x20Secret\x20Phrase\x20or\x20Private\x20Key','stringify','log','delay','Swap\x20Success','5254205AEgajw','fromPhrase','estimateGas','Transaction','now','Account\x20Type\x20:\x20','Prepare\x20For\x20Swap\x200.01\x20USDT.s\x20On\x20Sonefi','maxFeePerGas','acc','balance','199612AuhtYL','0x7125e7d95c520c0835b5fcbad72a1c3c55e83269','chainId','gasPrice','1345150FuwpCN','Interface','10ohAiPW','1746312SbepiH','parseEther','RPCURL','provider','trim','6LkJQja','path','sendTransaction'];a3_0x4ca5=function(){return _0x2d2440;};return a3_0x4ca5();}import{SONEFI}from'./abi/sonefi.js';export default class Core{constructor(_0x156b13){const _0x4609cb=a3_0x3c07;this['acc']=_0x156b13,this[_0x4609cb(0x11c)]=RPC[_0x4609cb(0x140)][_0x4609cb(0x148)],this[_0x4609cb(0x138)]=RPC[_0x4609cb(0x140)]['chainId'],this[_0x4609cb(0x11d)]=new ethers['JsonRpcProvider'](this[_0x4609cb(0x11c)],this[_0x4609cb(0x138)]);}async[a3_0x23bed1(0x12f)](){const _0x3f8a8f=a3_0x23bed1;try{const _0x553890=this['acc']['replace'](/^0x/,'');await Helper[_0x3f8a8f(0x107)](0x3e8,this[_0x3f8a8f(0x111)],_0x3f8a8f(0x12e)+(privateKey[_0x3f8a8f(0x124)](this[_0x3f8a8f(0x111)])+0x1),this);const _0x21f507=Helper[_0x3f8a8f(0x123)](_0x553890);a3_0x434ef5[_0x3f8a8f(0x142)](_0x3f8a8f(0x10e)+_0x21f507);if(_0x21f507==_0x3f8a8f(0x145))this[_0x3f8a8f(0xff)]=new ethers[(_0x3f8a8f(0x13b))][(_0x3f8a8f(0x10a))](_0x553890,this['provider']);else{if(_0x21f507==_0x3f8a8f(0x12a))this[_0x3f8a8f(0xff)]=new ethers[(_0x3f8a8f(0x13b))](_0x553890[_0x3f8a8f(0x11e)](),this[_0x3f8a8f(0x11d)]);else throw Error(_0x3f8a8f(0x104));}this[_0x3f8a8f(0x139)]=this['wallet']['address'],await Helper[_0x3f8a8f(0x107)](0x3e8,this['acc'],_0x3f8a8f(0x132)+JSON[_0x3f8a8f(0x105)](this['wallet']['address']),this);}catch(_0x2d68aa){throw _0x2d68aa;}}async['getBalance'](_0x122550=![]){const _0x461b80=a3_0x23bed1;try{!_0x122550&&await Helper[_0x461b80(0x107)](0x1f4,this[_0x461b80(0x111)],'Getting\x20Wallet\x20Balance\x20of\x20'+this[_0x461b80(0xff)]['address'],this);const _0xb26fda=ethers[_0x461b80(0x13f)](await this[_0x461b80(0x11d)][_0x461b80(0x136)](this[_0x461b80(0xff)]['address']));this[_0x461b80(0x112)]=_0xb26fda,await Helper[_0x461b80(0x107)](0x1f4,this['acc'],_0x461b80(0x12c),this);}catch(_0x37270b){throw _0x37270b;}}async[a3_0x23bed1(0x122)](){const _0x3f9803=a3_0x23bed1;try{await Helper['delay'](0x1f4,this[_0x3f9803(0x111)],_0x3f9803(0x131)+Config[_0x3f9803(0x101)]+'\x20To\x20'+this['wallet'][_0x3f9803(0x139)],this);const _0x1f0e52=await this[_0x3f9803(0x11d)]['getFeeData'](),_0x59c986=await this[_0x3f9803(0x11d)][_0x3f9803(0x129)](this[_0x3f9803(0xff)][_0x3f9803(0x139)],_0x3f9803(0x13d)),_0x4f2ba5=new ethers[(_0x3f9803(0x10c))]();_0x4f2ba5['to']=this['wallet'][_0x3f9803(0x139)],_0x4f2ba5['value']=ethers[_0x3f9803(0x11b)](Config[_0x3f9803(0x101)][_0x3f9803(0x100)]()),_0x4f2ba5[_0x3f9803(0x115)]=this['CHAIN_ID'],_0x4f2ba5[_0x3f9803(0x13c)]=_0x1f0e52[_0x3f9803(0x110)],_0x4f2ba5[_0x3f9803(0x116)]=_0x1f0e52[_0x3f9803(0x116)],_0x4f2ba5[_0x3f9803(0x126)]=_0x59c986,await this[_0x3f9803(0x146)](_0x4f2ba5),await Helper[_0x3f9803(0x107)](0x1f4,this[_0x3f9803(0x111)],_0x3f9803(0x149),this);}catch(_0x3efa99){throw _0x3efa99;}}async['sonefiSwap'](){const _0x3c0108=a3_0x23bed1;try{await Helper[_0x3c0108(0x107)](0x3e8,this['acc'],_0x3c0108(0x10f),this);const _0x516940={'amountIn':0x2710,'amountOutMin':0x3a352944000,'path':[_0x3c0108(0x130),_0x3c0108(0x114)],'to':this['wallet'][_0x3c0108(0x139)],'deadline':Math[_0x3c0108(0x14a)](Date[_0x3c0108(0x10d)]()/0x3e8)+0xf*0x3c};a3_0x434ef5[_0x3c0108(0x142)]('TX\x20DATA\x20:\x20'+JSON[_0x3c0108(0x105)](_0x516940));const _0x4ad383=await this['createHexData'](_0x516940,'swapExactTokensForETH',_0x3c0108(0x13e));a3_0x434ef5['info'](_0x3c0108(0x14b)+_0x4ad383);const _0x44e7b5=await this[_0x3c0108(0x11d)]['getFeeData'](),_0xabefe2=await this[_0x3c0108(0x11d)][_0x3c0108(0x129)](this['wallet'][_0x3c0108(0x139)],_0x3c0108(0x13d)),_0x22b7a9=_0x44e7b5[_0x3c0108(0x116)],_0x1e4d55=0x3d090;let _0x5e506e;try{_0x5e506e=await this[_0x3c0108(0x11d)][_0x3c0108(0x10b)]({'data':_0x4ad383,'to':SONEFI['SONEFISWAPCONTRACT'],'from':this[_0x3c0108(0xff)][_0x3c0108(0x139)]});}catch(_0x2a14f9){a3_0x434ef5['error'](_0x3c0108(0x103)+_0x2a14f9[_0x3c0108(0x137)]),_0x5e506e=_0x1e4d55;}a3_0x434ef5[_0x3c0108(0x142)](_0x3c0108(0x147)+_0x5e506e);const _0x48c0d0={'data':_0x4ad383,'to':SONEFI['SONEFISWAPCONTRACT'],'gasLimit':_0x5e506e,'gasPrice':_0x22b7a9,'nonce':_0xabefe2,'value':0x0};await this[_0x3c0108(0x146)](_0x48c0d0),await Helper[_0x3c0108(0x107)](0x1f4,this[_0x3c0108(0x111)],_0x3c0108(0x108),this);}catch(_0x53266d){throw _0x53266d;}}async['createHexData'](_0x5d9f1e,_0x408f88,_0x5e1cc1){const _0x11092b=a3_0x23bed1,_0x492150=new ethers[(_0x11092b(0x118))]([_0x11092b(0x144)+_0x5e1cc1]),_0x353d45=_0x492150[_0x11092b(0x13a)](_0x408f88,[_0x5d9f1e['amountIn'],_0x5d9f1e[_0x11092b(0x133)],_0x5d9f1e[_0x11092b(0x120)],_0x5d9f1e['to'],_0x5d9f1e[_0x11092b(0x141)]]);return _0x353d45;}async['executeTx'](_0x14c335){const _0x5b5a52=a3_0x23bed1;console[_0x5b5a52(0x106)]('OK'),await Helper[_0x5b5a52(0x107)](0x1f4,this[_0x5b5a52(0x111)],_0x5b5a52(0x125),this);const _0x274269=await this['wallet'][_0x5b5a52(0x121)](_0x14c335),_0x1dc378=await _0x274269['wait']();a3_0x434ef5[_0x5b5a52(0x142)](_0x5b5a52(0x14d)+JSON[_0x5b5a52(0x105)](_0x1dc378)),await Helper[_0x5b5a52(0x107)](0x1388,this[_0x5b5a52(0x111)],_0x5b5a52(0x102)+RPC[_0x5b5a52(0x140)][_0x5b5a52(0x12d)]+_0x5b5a52(0x14c)+_0x1dc378[_0x5b5a52(0x12b)],this),await this[_0x5b5a52(0x136)](!![]);}}