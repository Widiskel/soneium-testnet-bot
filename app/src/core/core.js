const a3_0x43c2b8=a3_0x8267;(function(_0x4268c5,_0x16b4d5){const _0x3ea118=a3_0x8267,_0x3c275f=_0x4268c5();while(!![]){try{const _0x4f38aa=-parseInt(_0x3ea118(0x14b))/0x1+-parseInt(_0x3ea118(0x13b))/0x2*(-parseInt(_0x3ea118(0x164))/0x3)+-parseInt(_0x3ea118(0x132))/0x4*(-parseInt(_0x3ea118(0x143))/0x5)+parseInt(_0x3ea118(0x14f))/0x6+parseInt(_0x3ea118(0x13e))/0x7+parseInt(_0x3ea118(0x154))/0x8*(-parseInt(_0x3ea118(0x157))/0x9)+-parseInt(_0x3ea118(0x160))/0xa;if(_0x4f38aa===_0x16b4d5)break;else _0x3c275f['push'](_0x3c275f['shift']());}catch(_0x8984d6){_0x3c275f['push'](_0x3c275f['shift']());}}}(a3_0x38a2,0x4da9c));import{ethers}from'ethers';import{privateKey}from'../../accounts/accounts.js';import{Helper}from'../utils/helper.js';function a3_0x38a2(){const _0x414ba5=['parseEther','mainRpc','executeTx','Secret\x20Phrase','deadline','replace','Interface','2ofyLug','chainId','latest','3024763DLKzPZ','CHAIN_ID','address','error','estimateGas','2521915YpKgPL','Invalid\x20account\x20Secret\x20Phrase\x20or\x20Private\x20Key','maxFeePerGas','tx/','nonce','Gas\x20Limit\x20:\x20','path','Getting\x20Wallet\x20Balance\x20of\x20','403989ImjKZM','provider','value','getFeeData','1274904GfFzLp','Wallet','SELFTRANSFERAMOUNT','Building\x20TX...','wait','8gkrrGr','now','TX\x20DATA\x20:\x20','2105469ODlFbr','SONEFISWAPCONTRACT','fromPhrase','determineType','delay','JsonRpcProvider','getBalance','formatEther','wallet','6020490PsBcWy','Hex\x20Data\x20:\x20','amountIn','amountOutMin','1227333vxPsHI','gasPrice','explorerUrl','Transaction','stringify','swapExactTokensForETH(uint256,uint256,address[],address,uint256)','createHexData','gasLimit','info','Swap\x20Success','indexOf','Balance\x20updated','Account\x20Type\x20:\x20','Connecting\x20to\x20Account\x20:\x20','acc','sendTransaction','4wSOUIG','->\x20Tx\x20Confirmed\x20and\x20Finalizing:\x20'];a3_0x38a2=function(){return _0x414ba5;};return a3_0x38a2();}import a3_0x565d49 from'../utils/logger.js';function a3_0x8267(_0xc7ebbc,_0xa39525){const _0x38a258=a3_0x38a2();return a3_0x8267=function(_0x82675f,_0x395c79){_0x82675f=_0x82675f-0x132;let _0x5b7551=_0x38a258[_0x82675f];return _0x5b7551;},a3_0x8267(_0xc7ebbc,_0xa39525);}import{RPC}from'./rpc.js';import{Config}from'../../config/config.js';import{SONEFI}from'./abi/sonefi.js';export default class Core{constructor(_0x4d607b){const _0x602247=a3_0x8267;this[_0x602247(0x172)]=_0x4d607b,this['RPCURL']=RPC[_0x602247(0x135)]['url'],this[_0x602247(0x13f)]=RPC[_0x602247(0x135)]['chainId'],this['provider']=new ethers[(_0x602247(0x15c))](this['RPCURL'],this['CHAIN_ID']);}async['connectWallet'](){const _0x4d4c05=a3_0x8267;try{const _0x312785=this[_0x4d4c05(0x172)][_0x4d4c05(0x139)](/^0x/,'');await Helper[_0x4d4c05(0x15b)](0x3e8,this['acc'],_0x4d4c05(0x171)+(privateKey[_0x4d4c05(0x16e)](this[_0x4d4c05(0x172)])+0x1),this);const _0x2b48d0=Helper[_0x4d4c05(0x15a)](_0x312785);a3_0x565d49[_0x4d4c05(0x16c)](_0x4d4c05(0x170)+_0x2b48d0);if(_0x2b48d0==_0x4d4c05(0x137))this[_0x4d4c05(0x15f)]=new ethers[(_0x4d4c05(0x150))][(_0x4d4c05(0x159))](_0x312785,this[_0x4d4c05(0x14c)]);else{if(_0x2b48d0=='Private\x20Key')this[_0x4d4c05(0x15f)]=new ethers['Wallet'](_0x312785['trim'](),this['provider']);else throw Error(_0x4d4c05(0x144));}this[_0x4d4c05(0x140)]=this['wallet'][_0x4d4c05(0x140)],await Helper[_0x4d4c05(0x15b)](0x3e8,this['acc'],'Wallet\x20connected\x20'+JSON[_0x4d4c05(0x168)](this['wallet'][_0x4d4c05(0x140)]),this);}catch(_0x5bb200){throw _0x5bb200;}}async[a3_0x43c2b8(0x15d)](_0xeec61b=![]){const _0x297b11=a3_0x43c2b8;try{!_0xeec61b&&await Helper[_0x297b11(0x15b)](0x1f4,this['acc'],_0x297b11(0x14a)+this[_0x297b11(0x15f)][_0x297b11(0x140)],this);const _0xcbcbb4=ethers[_0x297b11(0x15e)](await this['provider'][_0x297b11(0x15d)](this[_0x297b11(0x15f)][_0x297b11(0x140)]));this['balance']=_0xcbcbb4,await Helper[_0x297b11(0x15b)](0x1f4,this[_0x297b11(0x172)],_0x297b11(0x16f),this);}catch(_0x5a961b){throw _0x5a961b;}}async['selfTransfer'](){const _0x3f4801=a3_0x43c2b8;try{await Helper[_0x3f4801(0x15b)](0x1f4,this[_0x3f4801(0x172)],'Sending\x20'+Config[_0x3f4801(0x151)]+'\x20To\x20'+this[_0x3f4801(0x15f)][_0x3f4801(0x140)],this);const _0x27f1cd=await this[_0x3f4801(0x14c)][_0x3f4801(0x14e)](),_0x55b22b=await this[_0x3f4801(0x14c)]['getTransactionCount'](this[_0x3f4801(0x15f)][_0x3f4801(0x140)],'latest'),_0x5e7a3d=new ethers[(_0x3f4801(0x167))]();_0x5e7a3d['to']=this[_0x3f4801(0x15f)]['address'],_0x5e7a3d[_0x3f4801(0x14d)]=ethers[_0x3f4801(0x134)](Config[_0x3f4801(0x151)]['toString']()),_0x5e7a3d[_0x3f4801(0x13c)]=this['CHAIN_ID'],_0x5e7a3d[_0x3f4801(0x16b)]=_0x27f1cd[_0x3f4801(0x145)],_0x5e7a3d[_0x3f4801(0x165)]=_0x27f1cd['gasPrice'],_0x5e7a3d[_0x3f4801(0x147)]=_0x55b22b,await this[_0x3f4801(0x136)](_0x5e7a3d),await Helper[_0x3f4801(0x15b)](0x1f4,this[_0x3f4801(0x172)],'Self\x20Transfer\x20Success',this);}catch(_0x32337d){throw _0x32337d;}}async['sonefiSwap'](){const _0x23c7a3=a3_0x43c2b8;try{await Helper['delay'](0x3e8,this['acc'],'Prepare\x20For\x20Swap\x200.01\x20USDT.s\x20On\x20Sonefi',this);const _0x37a00e={'amountIn':0x2710,'amountOutMin':0x3a352944000,'path':['0x97368885747176170506a65c0096b91236b744e7','0x7125e7d95c520c0835b5fcbad72a1c3c55e83269'],'to':this[_0x23c7a3(0x15f)][_0x23c7a3(0x140)],'deadline':Math['floor'](Date[_0x23c7a3(0x155)]()/0x3e8)+0xf*0x3c};a3_0x565d49[_0x23c7a3(0x16c)](_0x23c7a3(0x156)+JSON[_0x23c7a3(0x168)](_0x37a00e));const _0xd8cec1=await this[_0x23c7a3(0x16a)](_0x37a00e,'swapExactTokensForETH',_0x23c7a3(0x169));a3_0x565d49[_0x23c7a3(0x16c)](_0x23c7a3(0x161)+_0xd8cec1);const _0xfc2790=await this[_0x23c7a3(0x14c)][_0x23c7a3(0x14e)](),_0x47ac76=await this['provider']['getTransactionCount'](this[_0x23c7a3(0x15f)]['address'],_0x23c7a3(0x13d)),_0x450873=_0xfc2790[_0x23c7a3(0x165)],_0x4e7d9c=0x3d090;let _0x369f2b;try{_0x369f2b=await this[_0x23c7a3(0x14c)][_0x23c7a3(0x142)]({'data':_0xd8cec1,'to':SONEFI[_0x23c7a3(0x158)],'from':this[_0x23c7a3(0x15f)][_0x23c7a3(0x140)]});}catch(_0x19eb3d){a3_0x565d49[_0x23c7a3(0x141)]('Gas\x20estimation\x20failed,\x20using\x20fallback:\x20'+_0x19eb3d['message']),_0x369f2b=_0x4e7d9c;}a3_0x565d49[_0x23c7a3(0x16c)](_0x23c7a3(0x148)+_0x369f2b);const _0x3872e8={'data':_0xd8cec1,'to':SONEFI[_0x23c7a3(0x158)],'gasLimit':_0x369f2b,'gasPrice':_0x450873,'nonce':_0x47ac76,'value':0x0};await this[_0x23c7a3(0x136)](_0x3872e8),await Helper[_0x23c7a3(0x15b)](0x1f4,this['acc'],_0x23c7a3(0x16d),this);}catch(_0x3c32af){throw _0x3c32af;}}async[a3_0x43c2b8(0x16a)](_0x378b7b,_0x1a6c07,_0x402092){const _0x3b4a47=a3_0x43c2b8,_0x51c24e=new ethers[(_0x3b4a47(0x13a))](['function\x20'+_0x402092]),_0x201346=_0x51c24e['encodeFunctionData'](_0x1a6c07,[_0x378b7b[_0x3b4a47(0x162)],_0x378b7b[_0x3b4a47(0x163)],_0x378b7b[_0x3b4a47(0x149)],_0x378b7b['to'],_0x378b7b[_0x3b4a47(0x138)]]);return _0x201346;}async['executeTx'](_0x5bcf70){const _0x14f2f1=a3_0x43c2b8;await Helper['delay'](0x1f4,this[_0x14f2f1(0x172)],_0x14f2f1(0x152),this);const _0x57105f=await this[_0x14f2f1(0x15f)][_0x14f2f1(0x173)](_0x5bcf70),_0x2020b4=await _0x57105f[_0x14f2f1(0x153)]();a3_0x565d49[_0x14f2f1(0x16c)](_0x14f2f1(0x133)+JSON[_0x14f2f1(0x168)](_0x2020b4)),await Helper['delay'](0x1388,this[_0x14f2f1(0x172)],'Tx\x20Executed\x20\x0a'+RPC['mainRpc'][_0x14f2f1(0x166)]+_0x14f2f1(0x146)+_0x2020b4['hash'],this),await this['getBalance'](!![]);}}